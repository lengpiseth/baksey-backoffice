function _showModalHandler(a){_currentInput=$(this).data("id"),console.log(_currentInput),$("#media-modal").modal("show")}var domainName=document.location.origin,siteUrl=domainName.match(/127.0.0.1|.dev|.tk/g).length>0?domainName:domainName+"/baksey",constant={api:{media:{Index:siteUrl+"/admin/media/library"}}},_currentMediaPage=1,_currentInput=0,_hasMoreMedia=!0,_result=[];$(document).ready(function(){var a=$("#media-modal");$('*[data-toggle="tooltip"]').tooltip(),$("span.input-group-btn").each(function(a){$(this).on("click",_showModalHandler)}),a.on("show.bs.modal",function(i){var e=$(".modal-title",a),t=$(".modal-body.library-grid",a);"Select Media"===e.html()?e.html():e.html("Select Media"),""===t.html().trim()&&$.ajax({method:"GET",url:constant.api.media.Index,data:{page:1},success:function(i){_result=i;for(var e=0;e<_result.length;e++){var d=_result[e],n=siteUrl+"/media/view/"+d.id,l='<div class="grid"><div class="gridInner"><img alt="'+d.filename+'" src="'+n+'"><div class="titleGrid" title="'+d.filename+'" data-media-id="'+d.id+'" data-media-url="'+n+'">'+d.filename+"</div></div></div>";t.append(l)}$(".library-grid .titleGrid").each(function(i){$(this).unbind("click").on("click",function(i){i.preventDefault(),$("#bird_form_photos_"+_currentInput).val($(this).data("media-url")),a.modal("hide")})})}})}),$(".load-more-media").on("click",function(i){i.preventDefault();var e=$(this),t=$("i.fa-cog",this),d=$(".modal-body.library-grid");t.addClass("fa-spin"),$.ajax({method:"GET",url:constant.api.media.Index,data:{page:_currentMediaPage+1},success:function(i){t.removeClass("fa-spin");var n=i;if(n.length>0){_currentMediaPage++;for(var l=0;l<n.length;l++){var r=n[l],o=siteUrl+"/media/view/"+r.id,s='<div class="grid"><div class="gridInner"><img alt="'+r.filename+'" src="'+o+'"><div class="titleGrid" title="'+r.filename+'"  data-media-id="'+r.id+'" data-media-url="'+o+'">'+r.filename+"</div></div></div>";$(".library-grid").append(s)}$(".library-grid .titleGrid").each(function(i){$(this).unbind("click").on("click",function(i){i.preventDefault(),$("#bird_form_photos_"+_currentInput).val($(this).data("media-url")),a.modal("hide")})}),d.animate({scrollTop:d[0].scrollHeight},1e3)}else 0==n.length&&(console.log(i),e.prop("disabled",!0))},error:function(a){t.removeClass("fa-spin")}})})});
//# sourceMappingURL=map/backend.js.map
